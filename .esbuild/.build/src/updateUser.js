var l0=Object.create;var Re=Object.defineProperty;var b0=Object.getOwnPropertyDescriptor;var h0=Object.getOwnPropertyNames;var p0=Object.getPrototypeOf,y0=Object.prototype.hasOwnProperty;var R=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),m0=(e,r)=>{for(var t in r)Re(e,t,{get:r[t],enumerable:!0})},Mr=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of h0(r))!y0.call(e,n)&&n!==t&&Re(e,n,{get:()=>r[n],enumerable:!(a=b0(r,n))||a.enumerable});return e};var tr=(e,r,t)=>(t=e!=null?l0(p0(e)):{},Mr(r||!e||!e.__esModule?Re(t,"default",{value:e,enumerable:!0}):t,e)),v0=e=>Mr(Re({},"__esModule",{value:!0}),e);var nt=R((tt,k)=>{(function(e,r){typeof define=="function"&&define.amd?define([],r):typeof require=="function"&&typeof k=="object"&&k&&k.exports?k.exports=r():(e.dcodeIO=e.dcodeIO||{}).bcrypt=r()})(tt,function(){"use strict";var e={},r=null;function t(u){if(typeof k<"u"&&k&&k.exports)try{return require("crypto").randomBytes(u)}catch{}try{var c;return(self.crypto||self.msCrypto).getRandomValues(c=new Uint32Array(u)),Array.prototype.slice.call(c)}catch{}if(!r)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return r(u)}var a=!1;try{t(1),a=!0}catch{}r=null,e.setRandomFallback=function(u){r=u},e.genSaltSync=function(u,c){if(u=u||O,typeof u!="number")throw Error("Illegal arguments: "+typeof u+", "+typeof c);u<4?u=4:u>31&&(u=31);var s=[];return s.push("$2a$"),u<10&&s.push("0"),s.push(u.toString()),s.push("$"),s.push(h(t(I),I)),s.join("")},e.genSalt=function(u,c,s){if(typeof c=="function"&&(s=c,c=void 0),typeof u=="function"&&(s=u,u=void 0),typeof u>"u")u=O;else if(typeof u!="number")throw Error("illegal arguments: "+typeof u);function o(f){i(function(){try{f(null,e.genSaltSync(u))}catch(d){f(d)}})}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);o(s)}else return new Promise(function(f,d){o(function(p,S){if(p){d(p);return}f(S)})})},e.hashSync=function(u,c){if(typeof c>"u"&&(c=O),typeof c=="number"&&(c=e.genSaltSync(c)),typeof u!="string"||typeof c!="string")throw Error("Illegal arguments: "+typeof u+", "+typeof c);return rr(u,c)},e.hash=function(u,c,s,o){function f(d){typeof u=="string"&&typeof c=="number"?e.genSalt(c,function(p,S){rr(u,S,d,o)}):typeof u=="string"&&typeof c=="string"?rr(u,c,d,o):i(d.bind(this,Error("Illegal arguments: "+typeof u+", "+typeof c)))}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);f(s)}else return new Promise(function(d,p){f(function(S,v){if(S){p(S);return}d(v)})})};function n(u,c){for(var s=0,o=0,f=0,d=u.length;f<d;++f)u.charCodeAt(f)===c.charCodeAt(f)?++s:++o;return s<0?!1:o===0}e.compareSync=function(u,c){if(typeof u!="string"||typeof c!="string")throw Error("Illegal arguments: "+typeof u+", "+typeof c);return c.length!==60?!1:n(e.hashSync(u,c.substr(0,c.length-31)),c)},e.compare=function(u,c,s,o){function f(d){if(typeof u!="string"||typeof c!="string"){i(d.bind(this,Error("Illegal arguments: "+typeof u+", "+typeof c)));return}if(c.length!==60){i(d.bind(this,null,!1));return}e.hash(u,c.substr(0,29),function(p,S){p?d(p):d(null,n(S,c))},o)}if(s){if(typeof s!="function")throw Error("Illegal callback: "+typeof s);f(s)}else return new Promise(function(d,p){f(function(S,v){if(S){p(S);return}d(v)})})},e.getRounds=function(u){if(typeof u!="string")throw Error("Illegal arguments: "+typeof u);return parseInt(u.split("$")[2],10)},e.getSalt=function(u){if(typeof u!="string")throw Error("Illegal arguments: "+typeof u);if(u.length!==60)throw Error("Illegal hash length: "+u.length+" != 60");return u.substring(0,29)};var i=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function x(u){var c=[],s=0;return P.encodeUTF16toUTF8(function(){return s>=u.length?null:u.charCodeAt(s++)},function(o){c.push(o)}),c}var b="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),y=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1],g=String.fromCharCode;function h(u,c){var s=0,o=[],f,d;if(c<=0||c>u.length)throw Error("Illegal len: "+c);for(;s<c;){if(f=u[s++]&255,o.push(b[f>>2&63]),f=(f&3)<<4,s>=c){o.push(b[f&63]);break}if(d=u[s++]&255,f|=d>>4&15,o.push(b[f&63]),f=(d&15)<<2,s>=c){o.push(b[f&63]);break}d=u[s++]&255,f|=d>>6&3,o.push(b[f&63]),o.push(b[d&63])}return o.join("")}function m(u,c){var s=0,o=u.length,f=0,d=[],p,S,v,T,C,L;if(c<=0)throw Error("Illegal len: "+c);for(;s<o-1&&f<c&&(L=u.charCodeAt(s++),p=L<y.length?y[L]:-1,L=u.charCodeAt(s++),S=L<y.length?y[L]:-1,!(p==-1||S==-1||(C=p<<2>>>0,C|=(S&48)>>4,d.push(g(C)),++f>=c||s>=o)||(L=u.charCodeAt(s++),v=L<y.length?y[L]:-1,v==-1)||(C=(S&15)<<4>>>0,C|=(v&60)>>2,d.push(g(C)),++f>=c||s>=o)));)L=u.charCodeAt(s++),T=L<y.length?y[L]:-1,C=(v&3)<<6>>>0,C|=T,d.push(g(C)),++f;var V=[];for(s=0;s<f;s++)V.push(d[s].charCodeAt(0));return V}var P=function(){"use strict";var u={};return u.MAX_CODEPOINT=1114111,u.encodeUTF8=function(c,s){var o=null;for(typeof c=="number"&&(o=c,c=function(){return null});o!==null||(o=c())!==null;)o<128?s(o&127):o<2048?(s(o>>6&31|192),s(o&63|128)):o<65536?(s(o>>12&15|224),s(o>>6&63|128),s(o&63|128)):(s(o>>18&7|240),s(o>>12&63|128),s(o>>6&63|128),s(o&63|128)),o=null},u.decodeUTF8=function(c,s){for(var o,f,d,p,S=function(v){v=v.slice(0,v.indexOf(null));var T=Error(v.toString());throw T.name="TruncatedError",T.bytes=v,T};(o=c())!==null;)if((o&128)===0)s(o);else if((o&224)===192)(f=c())===null&&S([o,f]),s((o&31)<<6|f&63);else if((o&240)===224)((f=c())===null||(d=c())===null)&&S([o,f,d]),s((o&15)<<12|(f&63)<<6|d&63);else if((o&248)===240)((f=c())===null||(d=c())===null||(p=c())===null)&&S([o,f,d,p]),s((o&7)<<18|(f&63)<<12|(d&63)<<6|p&63);else throw RangeError("Illegal starting byte: "+o)},u.UTF16toUTF8=function(c,s){for(var o,f=null;(o=f!==null?f:c())!==null;){if(o>=55296&&o<=57343&&(f=c())!==null&&f>=56320&&f<=57343){s((o-55296)*1024+f-56320+65536),f=null;continue}s(o)}f!==null&&s(f)},u.UTF8toUTF16=function(c,s){var o=null;for(typeof c=="number"&&(o=c,c=function(){return null});o!==null||(o=c())!==null;)o<=65535?s(o):(o-=65536,s((o>>10)+55296),s(o%1024+56320)),o=null},u.encodeUTF16toUTF8=function(c,s){u.UTF16toUTF8(c,function(o){u.encodeUTF8(o,s)})},u.decodeUTF8toUTF16=function(c,s){u.decodeUTF8(c,function(o){u.UTF8toUTF16(o,s)})},u.calculateCodePoint=function(c){return c<128?1:c<2048?2:c<65536?3:4},u.calculateUTF8=function(c){for(var s,o=0;(s=c())!==null;)o+=u.calculateCodePoint(s);return o},u.calculateUTF16asUTF8=function(c){var s=0,o=0;return u.UTF16toUTF8(c,function(f){++s,o+=u.calculateCodePoint(f)}),[s,o]},u}();Date.now=Date.now||function(){return+new Date};var I=16,O=10,W=16,er=100,Te=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Ie=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],ee=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function Y(u,c,s,o){var f,d=u[c],p=u[c+1];return d^=s[0],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[1],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[2],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[3],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[4],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[5],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[6],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[7],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[8],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[9],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[10],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[11],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[12],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[13],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[14],f=o[d>>>24],f+=o[256|d>>16&255],f^=o[512|d>>8&255],f+=o[768|d&255],p^=f^s[15],f=o[p>>>24],f+=o[256|p>>16&255],f^=o[512|p>>8&255],f+=o[768|p&255],d^=f^s[16],u[c]=p^s[W+1],u[c+1]=d,u}function U(u,c){for(var s=0,o=0;s<4;++s)o=o<<8|u[c]&255,c=(c+1)%u.length;return{key:o,offp:c}}function re(u,c,s){for(var o=0,f=[0,0],d=c.length,p=s.length,S,v=0;v<d;v++)S=U(u,o),o=S.offp,c[v]=c[v]^S.key;for(v=0;v<d;v+=2)f=Y(f,0,c,s),c[v]=f[0],c[v+1]=f[1];for(v=0;v<p;v+=2)f=Y(f,0,c,s),s[v]=f[0],s[v+1]=f[1]}function d0(u,c,s,o){for(var f=0,d=[0,0],p=s.length,S=o.length,v,T=0;T<p;T++)v=U(c,f),f=v.offp,s[T]=s[T]^v.key;for(f=0,T=0;T<p;T+=2)v=U(u,f),f=v.offp,d[0]^=v.key,v=U(u,f),f=v.offp,d[1]^=v.key,d=Y(d,0,s,o),s[T]=d[0],s[T+1]=d[1];for(T=0;T<S;T+=2)v=U(u,f),f=v.offp,d[0]^=v.key,v=U(u,f),f=v.offp,d[1]^=v.key,d=Y(d,0,s,o),o[T]=d[0],o[T+1]=d[1]}function Gr(u,c,s,o,f){var d=ee.slice(),p=d.length,S;if(s<4||s>31)if(S=Error("Illegal number of rounds (4-31): "+s),o){i(o.bind(this,S));return}else throw S;if(c.length!==I)if(S=Error("Illegal salt length: "+c.length+" != "+I),o){i(o.bind(this,S));return}else throw S;s=1<<s>>>0;var v,T,C=0,L;Int32Array?(v=new Int32Array(Te),T=new Int32Array(Ie)):(v=Te.slice(),T=Ie.slice()),d0(c,u,v,T);function V(){if(f&&f(C/s),C<s)for(var te=Date.now();C<s&&(C=C+1,re(u,v,T),re(c,v,T),!(Date.now()-te>er)););else{for(C=0;C<64;C++)for(L=0;L<p>>1;L++)Y(d,L<<1,v,T);var _=[];for(C=0;C<p;C++)_.push((d[C]>>24&255)>>>0),_.push((d[C]>>16&255)>>>0),_.push((d[C]>>8&255)>>>0),_.push((d[C]&255)>>>0);if(o){o(null,_);return}else return _}o&&i(V)}if(typeof o<"u")V();else for(var pe;;)if(typeof(pe=V())<"u")return pe||[]}function rr(u,c,s,o){var f;if(typeof u!="string"||typeof c!="string")if(f=Error("Invalid string / salt: Not a string"),s){i(s.bind(this,f));return}else throw f;var d,p;if(c.charAt(0)!=="$"||c.charAt(1)!=="2")if(f=Error("Invalid salt version: "+c.substring(0,2)),s){i(s.bind(this,f));return}else throw f;if(c.charAt(2)==="$")d=String.fromCharCode(0),p=3;else{if(d=c.charAt(2),d!=="a"&&d!=="b"&&d!=="y"||c.charAt(3)!=="$")if(f=Error("Invalid salt revision: "+c.substring(2,4)),s){i(s.bind(this,f));return}else throw f;p=4}if(c.charAt(p+2)>"$")if(f=Error("Missing salt rounds"),s){i(s.bind(this,f));return}else throw f;var S=parseInt(c.substring(p,p+1),10)*10,v=parseInt(c.substring(p+1,p+2),10),T=S+v,C=c.substring(p+3,p+25);u+=d>="a"?"\0":"";var L=x(u),V=m(C,I);function pe(te){var _=[];return _.push("$2"),d>="a"&&_.push(d),_.push("$"),T<10&&_.push("0"),_.push(T.toString()),_.push("$"),_.push(h(V,V.length)),_.push(h(te,ee.length*4-1)),_.join("")}if(typeof s>"u")return pe(Gr(L,V,T));Gr(L,V,T,function(te,_){te?s(te,null):s(null,pe(_))},o)}return e.encodeBase64=h,e.decodeBase64=m,e})});var it=R((Ao,at)=>{at.exports=nt()});var ae=R((fr,ot)=>{var Oe=require("buffer"),G=Oe.Buffer;function ft(e,r){for(var t in e)r[t]=e[t]}G.from&&G.alloc&&G.allocUnsafe&&G.allocUnsafeSlow?ot.exports=Oe:(ft(Oe,fr),fr.Buffer=ne);function ne(e,r,t){return G(e,r,t)}ft(G,ne);ne.from=function(e,r,t){if(typeof e=="number")throw new TypeError("Argument must not be a number");return G(e,r,t)};ne.alloc=function(e,r,t){if(typeof e!="number")throw new TypeError("Argument must be a number");var a=G(e);return r!==void 0?typeof t=="string"?a.fill(r,t):a.fill(r):a.fill(0),a};ne.allocUnsafe=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return G(e)};ne.allocUnsafeSlow=function(e){if(typeof e!="number")throw new TypeError("Argument must be a number");return Oe.SlowBuffer(e)}});var or=R((To,st)=>{var je=ae().Buffer,F0=require("stream"),B0=require("util");function Ce(e){if(this.buffer=null,this.writable=!0,this.readable=!0,!e)return this.buffer=je.alloc(0),this;if(typeof e.pipe=="function")return this.buffer=je.alloc(0),e.pipe(this),this;if(e.length||typeof e=="object")return this.buffer=e,this.writable=!1,process.nextTick(function(){this.emit("end",e),this.readable=!1,this.emit("close")}.bind(this)),this;throw new TypeError("Unexpected data type ("+typeof e+")")}B0.inherits(Ce,F0);Ce.prototype.write=function(r){this.buffer=je.concat([this.buffer,je.from(r)]),this.emit("data",r)};Ce.prototype.end=function(r){r&&this.write(r),this.emit("end",r),this.emit("close"),this.writable=!1,this.readable=!1};st.exports=Ce});var xt=R((Io,ct)=>{"use strict";var ye=require("buffer").Buffer,sr=require("buffer").SlowBuffer;ct.exports=Ne;function Ne(e,r){if(!ye.isBuffer(e)||!ye.isBuffer(r)||e.length!==r.length)return!1;for(var t=0,a=0;a<e.length;a++)t|=e[a]^r[a];return t===0}Ne.install=function(){ye.prototype.equal=sr.prototype.equal=function(r){return Ne(this,r)}};var L0=ye.prototype.equal,_0=sr.prototype.equal;Ne.restore=function(){ye.prototype.equal=L0,sr.prototype.equal=_0}});var dt=R((Ro,ut)=>{"use strict";function cr(e){var r=(e/8|0)+(e%8===0?0:1);return r}var q0={ES256:cr(256),ES384:cr(384),ES512:cr(521)};function D0(e){var r=q0[e];if(r)return r;throw new Error('Unknown algorithm "'+e+'"')}ut.exports=D0});var vt=R((Oo,mt)=>{"use strict";var Pe=ae().Buffer,bt=dt(),Fe=128,ht=0,U0=32,V0=16,H0=2,pt=V0|U0|ht<<6,Be=H0|ht<<6;function $0(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yt(e){if(Pe.isBuffer(e))return e;if(typeof e=="string")return Pe.from(e,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function G0(e,r){e=yt(e);var t=bt(r),a=t+1,n=e.length,i=0;if(e[i++]!==pt)throw new Error('Could not find expected "seq"');var x=e[i++];if(x===(Fe|1)&&(x=e[i++]),n-i<x)throw new Error('"seq" specified length of "'+x+'", only "'+(n-i)+'" remaining');if(e[i++]!==Be)throw new Error('Could not find expected "int" for "r"');var b=e[i++];if(n-i-2<b)throw new Error('"r" specified length of "'+b+'", only "'+(n-i-2)+'" available');if(a<b)throw new Error('"r" specified length of "'+b+'", max of "'+a+'" is acceptable');var y=i;if(i+=b,e[i++]!==Be)throw new Error('Could not find expected "int" for "s"');var g=e[i++];if(n-i!==g)throw new Error('"s" specified length of "'+g+'", expected "'+(n-i)+'"');if(a<g)throw new Error('"s" specified length of "'+g+'", max of "'+a+'" is acceptable');var h=i;if(i+=g,i!==n)throw new Error('Expected to consume entire buffer, but "'+(n-i)+'" bytes remain');var m=t-b,P=t-g,I=Pe.allocUnsafe(m+b+P+g);for(i=0;i<m;++i)I[i]=0;e.copy(I,i,y+Math.max(-m,0),y+b),i=t;for(var O=i;i<O+P;++i)I[i]=0;return e.copy(I,i,h+Math.max(-P,0),h+g),I=I.toString("base64"),I=$0(I),I}function lt(e,r,t){for(var a=0;r+a<t&&e[r+a]===0;)++a;var n=e[r+a]>=Fe;return n&&--a,a}function M0(e,r){e=yt(e);var t=bt(r),a=e.length;if(a!==t*2)throw new TypeError('"'+r+'" signatures must be "'+t*2+'" bytes, saw "'+a+'"');var n=lt(e,0,t),i=lt(e,t,e.length),x=t-n,b=t-i,y=1+1+x+1+1+b,g=y<Fe,h=Pe.allocUnsafe((g?2:3)+y),m=0;return h[m++]=pt,g?h[m++]=y:(h[m++]=Fe|1,h[m++]=y&255),h[m++]=Be,h[m++]=x,n<0?(h[m++]=0,m+=e.copy(h,m,0,t)):m+=e.copy(h,m,n,t),h[m++]=Be,h[m++]=b,i<0?(h[m++]=0,e.copy(h,m,t)):e.copy(h,m,t+i),h}mt.exports={derToJose:G0,joseToDer:M0}});var dr=R((jo,Ot)=>{var k0=xt(),fe=ae().Buffer,$=require("crypto"),wt=vt(),gt=require("util"),J0=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,me="secret must be a string or buffer",ie="key must be a string or a buffer",X0="key must be a string, a buffer or an object",xr=typeof $.createPublicKey=="function";xr&&(ie+=" or a KeyObject",me+="or a KeyObject");function Et(e){if(!fe.isBuffer(e)&&typeof e!="string"&&(!xr||typeof e!="object"||typeof e.type!="string"||typeof e.asymmetricKeyType!="string"||typeof e.export!="function"))throw H(ie)}function St(e){if(!fe.isBuffer(e)&&typeof e!="string"&&typeof e!="object")throw H(X0)}function K0(e){if(!fe.isBuffer(e)){if(typeof e=="string")return e;if(!xr||typeof e!="object"||e.type!=="secret"||typeof e.export!="function")throw H(me)}}function ur(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function At(e){e=e.toString();var r=4-e.length%4;if(r!==4)for(var t=0;t<r;++t)e+="=";return e.replace(/\-/g,"+").replace(/_/g,"/")}function H(e){var r=[].slice.call(arguments,1),t=gt.format.bind(gt,e).apply(null,r);return new TypeError(t)}function W0(e){return fe.isBuffer(e)||typeof e=="string"}function ve(e){return W0(e)||(e=JSON.stringify(e)),e}function Tt(e){return function(t,a){K0(a),t=ve(t);var n=$.createHmac("sha"+e,a),i=(n.update(t),n.digest("base64"));return ur(i)}}function Y0(e){return function(t,a,n){var i=Tt(e)(t,n);return k0(fe.from(a),fe.from(i))}}function It(e){return function(t,a){St(a),t=ve(t);var n=$.createSign("RSA-SHA"+e),i=(n.update(t),n.sign(a,"base64"));return ur(i)}}function Rt(e){return function(t,a,n){Et(n),t=ve(t),a=At(a);var i=$.createVerify("RSA-SHA"+e);return i.update(t),i.verify(n,a,"base64")}}function z0(e){return function(t,a){St(a),t=ve(t);var n=$.createSign("RSA-SHA"+e),i=(n.update(t),n.sign({key:a,padding:$.constants.RSA_PKCS1_PSS_PADDING,saltLength:$.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return ur(i)}}function Z0(e){return function(t,a,n){Et(n),t=ve(t),a=At(a);var i=$.createVerify("RSA-SHA"+e);return i.update(t),i.verify({key:n,padding:$.constants.RSA_PKCS1_PSS_PADDING,saltLength:$.constants.RSA_PSS_SALTLEN_DIGEST},a,"base64")}}function Q0(e){var r=It(e);return function(){var a=r.apply(null,arguments);return a=wt.derToJose(a,"ES"+e),a}}function ea(e){var r=Rt(e);return function(a,n,i){n=wt.joseToDer(n,"ES"+e).toString("base64");var x=r(a,n,i);return x}}function ra(){return function(){return""}}function ta(){return function(r,t){return t===""}}Ot.exports=function(r){var t={hs:Tt,rs:It,ps:z0,es:Q0,none:ra},a={hs:Y0,rs:Rt,ps:Z0,es:ea,none:ta},n=r.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!n)throw H(J0,r);var i=(n[1]||n[3]).toLowerCase(),x=n[2];return{sign:t[i](x),verify:a[i](x)}}});var lr=R((Co,jt)=>{var na=require("buffer").Buffer;jt.exports=function(r){return typeof r=="string"?r:typeof r=="number"||na.isBuffer(r)?r.toString():JSON.stringify(r)}});var Lt=R((No,Bt)=>{var aa=ae().Buffer,Ct=or(),ia=dr(),fa=require("stream"),Nt=lr(),br=require("util");function Pt(e,r){return aa.from(e,r).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oa(e,r,t){t=t||"utf8";var a=Pt(Nt(e),"binary"),n=Pt(Nt(r),t);return br.format("%s.%s",a,n)}function Ft(e){var r=e.header,t=e.payload,a=e.secret||e.privateKey,n=e.encoding,i=ia(r.alg),x=oa(r,t,n),b=i.sign(x,a);return br.format("%s.%s",x,b)}function Le(e){var r=e.secret||e.privateKey||e.key,t=new Ct(r);this.readable=!0,this.header=e.header,this.encoding=e.encoding,this.secret=this.privateKey=this.key=t,this.payload=new Ct(e.payload),this.secret.once("close",function(){!this.payload.writable&&this.readable&&this.sign()}.bind(this)),this.payload.once("close",function(){!this.secret.writable&&this.readable&&this.sign()}.bind(this))}br.inherits(Le,fa);Le.prototype.sign=function(){try{var r=Ft({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",r),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(t){this.readable=!1,this.emit("error",t),this.emit("close")}};Le.sign=Ft;Bt.exports=Le});var kt=R((Po,Mt)=>{var qt=ae().Buffer,_t=or(),sa=dr(),ca=require("stream"),Dt=lr(),xa=require("util"),ua=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function da(e){return Object.prototype.toString.call(e)==="[object Object]"}function la(e){if(da(e))return e;try{return JSON.parse(e)}catch{return}}function Ut(e){var r=e.split(".",1)[0];return la(qt.from(r,"base64").toString("binary"))}function ba(e){return e.split(".",2).join(".")}function Vt(e){return e.split(".")[2]}function ha(e,r){r=r||"utf8";var t=e.split(".")[1];return qt.from(t,"base64").toString(r)}function Ht(e){return ua.test(e)&&!!Ut(e)}function $t(e,r,t){if(!r){var a=new Error("Missing algorithm parameter for jws.verify");throw a.code="MISSING_ALGORITHM",a}e=Dt(e);var n=Vt(e),i=ba(e),x=sa(r);return x.verify(i,n,t)}function Gt(e,r){if(r=r||{},e=Dt(e),!Ht(e))return null;var t=Ut(e);if(!t)return null;var a=ha(e);return(t.typ==="JWT"||r.json)&&(a=JSON.parse(a,r.encoding)),{header:t,payload:a,signature:Vt(e)}}function oe(e){e=e||{};var r=e.secret||e.publicKey||e.key,t=new _t(r);this.readable=!0,this.algorithm=e.algorithm,this.encoding=e.encoding,this.secret=this.publicKey=this.key=t,this.signature=new _t(e.signature),this.secret.once("close",function(){!this.signature.writable&&this.readable&&this.verify()}.bind(this)),this.signature.once("close",function(){!this.secret.writable&&this.readable&&this.verify()}.bind(this))}xa.inherits(oe,ca);oe.prototype.verify=function(){try{var r=$t(this.signature.buffer,this.algorithm,this.key.buffer),t=Gt(this.signature.buffer,this.encoding);return this.emit("done",r,t),this.emit("data",r),this.emit("end"),this.readable=!1,r}catch(a){this.readable=!1,this.emit("error",a),this.emit("close")}};oe.decode=Gt;oe.isValid=Ht;oe.verify=$t;Mt.exports=oe});var qe=R(J=>{var Jt=Lt(),_e=kt(),pa=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];J.ALGORITHMS=pa;J.sign=Jt.sign;J.verify=_e.verify;J.decode=_e.decode;J.isValid=_e.isValid;J.createSign=function(r){return new Jt(r)};J.createVerify=function(r){return new _e(r)}});var hr=R((Bo,Xt)=>{var ya=qe();Xt.exports=function(e,r){r=r||{};var t=ya.decode(e,r);if(!t)return null;var a=t.payload;if(typeof a=="string")try{var n=JSON.parse(a);n!==null&&typeof n=="object"&&(a=n)}catch{}return r.complete===!0?{header:t.header,payload:a,signature:t.signature}:a}});var ge=R((Lo,Kt)=>{var De=function(e,r){Error.call(this,e),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=e,r&&(this.inner=r)};De.prototype=Object.create(Error.prototype);De.prototype.constructor=De;Kt.exports=De});var pr=R((_o,Yt)=>{var Wt=ge(),Ue=function(e,r){Wt.call(this,e),this.name="NotBeforeError",this.date=r};Ue.prototype=Object.create(Wt.prototype);Ue.prototype.constructor=Ue;Yt.exports=Ue});var yr=R((qo,Zt)=>{var zt=ge(),Ve=function(e,r){zt.call(this,e),this.name="TokenExpiredError",this.expiredAt=r};Ve.prototype=Object.create(zt.prototype);Ve.prototype.constructor=Ve;Zt.exports=Ve});var en=R((Do,Qt)=>{var se=1e3,ce=se*60,xe=ce*60,z=xe*24,ma=z*7,va=z*365.25;Qt.exports=function(e,r){r=r||{};var t=typeof e;if(t==="string"&&e.length>0)return ga(e);if(t==="number"&&isFinite(e))return r.long?Ea(e):wa(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function ga(e){if(e=String(e),!(e.length>100)){var r=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!!r){var t=parseFloat(r[1]),a=(r[2]||"ms").toLowerCase();switch(a){case"years":case"year":case"yrs":case"yr":case"y":return t*va;case"weeks":case"week":case"w":return t*ma;case"days":case"day":case"d":return t*z;case"hours":case"hour":case"hrs":case"hr":case"h":return t*xe;case"minutes":case"minute":case"mins":case"min":case"m":return t*ce;case"seconds":case"second":case"secs":case"sec":case"s":return t*se;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return t;default:return}}}}function wa(e){var r=Math.abs(e);return r>=z?Math.round(e/z)+"d":r>=xe?Math.round(e/xe)+"h":r>=ce?Math.round(e/ce)+"m":r>=se?Math.round(e/se)+"s":e+"ms"}function Ea(e){var r=Math.abs(e);return r>=z?He(e,r,z,"day"):r>=xe?He(e,r,xe,"hour"):r>=ce?He(e,r,ce,"minute"):r>=se?He(e,r,se,"second"):e+" ms"}function He(e,r,t,a){var n=r>=t*1.5;return Math.round(e/t)+" "+a+(n?"s":"")}});var mr=R((Uo,rn)=>{var Sa=en();rn.exports=function(e,r){var t=r||Math.floor(Date.now()/1e3);if(typeof e=="string"){var a=Sa(e);return typeof a>"u"?void 0:Math.floor(t+a/1e3)}else return typeof e=="number"?t+e:void 0}});var vn=R((w,mn)=>{w=mn.exports=A;var j;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?j=function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:j=function(){};w.SEMVER_SPEC_VERSION="2.0.0";var gr=256,$e=Number.MAX_SAFE_INTEGER||9007199254740991,vr=16,N=w.re=[],l=w.src=[],E=0,ue=E++;l[ue]="0|[1-9]\\d*";var de=E++;l[de]="[0-9]+";var Ar=E++;l[Ar]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var nn=E++;l[nn]="("+l[ue]+")\\.("+l[ue]+")\\.("+l[ue]+")";var an=E++;l[an]="("+l[de]+")\\.("+l[de]+")\\.("+l[de]+")";var wr=E++;l[wr]="(?:"+l[ue]+"|"+l[Ar]+")";var Er=E++;l[Er]="(?:"+l[de]+"|"+l[Ar]+")";var Tr=E++;l[Tr]="(?:-("+l[wr]+"(?:\\."+l[wr]+")*))";var Ir=E++;l[Ir]="(?:-?("+l[Er]+"(?:\\."+l[Er]+")*))";var Sr=E++;l[Sr]="[0-9A-Za-z-]+";var Se=E++;l[Se]="(?:\\+("+l[Sr]+"(?:\\."+l[Sr]+")*))";var Rr=E++,fn="v?"+l[nn]+l[Tr]+"?"+l[Se]+"?";l[Rr]="^"+fn+"$";var Or="[v=\\s]*"+l[an]+l[Ir]+"?"+l[Se]+"?",jr=E++;l[jr]="^"+Or+"$";var he=E++;l[he]="((?:<|>)?=?)";var Ge=E++;l[Ge]=l[de]+"|x|X|\\*";var Me=E++;l[Me]=l[ue]+"|x|X|\\*";var Z=E++;l[Z]="[v=\\s]*("+l[Me]+")(?:\\.("+l[Me]+")(?:\\.("+l[Me]+")(?:"+l[Tr]+")?"+l[Se]+"?)?)?";var be=E++;l[be]="[v=\\s]*("+l[Ge]+")(?:\\.("+l[Ge]+")(?:\\.("+l[Ge]+")(?:"+l[Ir]+")?"+l[Se]+"?)?)?";var on=E++;l[on]="^"+l[he]+"\\s*"+l[Z]+"$";var sn=E++;l[sn]="^"+l[he]+"\\s*"+l[be]+"$";var cn=E++;l[cn]="(?:^|[^\\d])(\\d{1,"+vr+"})(?:\\.(\\d{1,"+vr+"}))?(?:\\.(\\d{1,"+vr+"}))?(?:$|[^\\d])";var Ye=E++;l[Ye]="(?:~>?)";var ke=E++;l[ke]="(\\s*)"+l[Ye]+"\\s+";N[ke]=new RegExp(l[ke],"g");var Aa="$1~",xn=E++;l[xn]="^"+l[Ye]+l[Z]+"$";var un=E++;l[un]="^"+l[Ye]+l[be]+"$";var ze=E++;l[ze]="(?:\\^)";var Je=E++;l[Je]="(\\s*)"+l[ze]+"\\s+";N[Je]=new RegExp(l[Je],"g");var Ta="$1^",dn=E++;l[dn]="^"+l[ze]+l[Z]+"$";var ln=E++;l[ln]="^"+l[ze]+l[be]+"$";var Cr=E++;l[Cr]="^"+l[he]+"\\s*("+Or+")$|^$";var Nr=E++;l[Nr]="^"+l[he]+"\\s*("+fn+")$|^$";var we=E++;l[we]="(\\s*)"+l[he]+"\\s*("+Or+"|"+l[Z]+")";N[we]=new RegExp(l[we],"g");var Ia="$1$2$3",bn=E++;l[bn]="^\\s*("+l[Z]+")\\s+-\\s+("+l[Z]+")\\s*$";var hn=E++;l[hn]="^\\s*("+l[be]+")\\s+-\\s+("+l[be]+")\\s*$";var pn=E++;l[pn]="(<|>)?=?\\s*\\*";for(X=0;X<E;X++)j(X,l[X]),N[X]||(N[X]=new RegExp(l[X]));var X;w.parse=Q;function Q(e,r){if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),e instanceof A)return e;if(typeof e!="string"||e.length>gr)return null;var t=r.loose?N[jr]:N[Rr];if(!t.test(e))return null;try{return new A(e,r)}catch{return null}}w.valid=Ra;function Ra(e,r){var t=Q(e,r);return t?t.version:null}w.clean=Oa;function Oa(e,r){var t=Q(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null}w.SemVer=A;function A(e,r){if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),e instanceof A){if(e.loose===r.loose)return e;e=e.version}else if(typeof e!="string")throw new TypeError("Invalid Version: "+e);if(e.length>gr)throw new TypeError("version is longer than "+gr+" characters");if(!(this instanceof A))return new A(e,r);j("SemVer",e,r),this.options=r,this.loose=!!r.loose;var t=e.trim().match(r.loose?N[jr]:N[Rr]);if(!t)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+t[1],this.minor=+t[2],this.patch=+t[3],this.major>$e||this.major<0)throw new TypeError("Invalid major version");if(this.minor>$e||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>$e||this.patch<0)throw new TypeError("Invalid patch version");t[4]?this.prerelease=t[4].split(".").map(function(a){if(/^[0-9]+$/.test(a)){var n=+a;if(n>=0&&n<$e)return n}return a}):this.prerelease=[],this.build=t[5]?t[5].split("."):[],this.format()}A.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};A.prototype.toString=function(){return this.version};A.prototype.compare=function(e){return j("SemVer.compare",this.version,this.options,e),e instanceof A||(e=new A(e,this.options)),this.compareMain(e)||this.comparePre(e)};A.prototype.compareMain=function(e){return e instanceof A||(e=new A(e,this.options)),le(this.major,e.major)||le(this.minor,e.minor)||le(this.patch,e.patch)};A.prototype.comparePre=function(e){if(e instanceof A||(e=new A(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var r=0;do{var t=this.prerelease[r],a=e.prerelease[r];if(j("prerelease compare",r,t,a),t===void 0&&a===void 0)return 0;if(a===void 0)return 1;if(t===void 0)return-1;if(t===a)continue;return le(t,a)}while(++r)};A.prototype.inc=function(e,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r),this.inc("pre",r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r),this.inc("pre",r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var t=this.prerelease.length;--t>=0;)typeof this.prerelease[t]=="number"&&(this.prerelease[t]++,t=-2);t===-1&&this.prerelease.push(0)}r&&(this.prerelease[0]===r?isNaN(this.prerelease[1])&&(this.prerelease=[r,0]):this.prerelease=[r,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this};w.inc=ja;function ja(e,r,t,a){typeof t=="string"&&(a=t,t=void 0);try{return new A(e,t).inc(r,a).version}catch{return null}}w.diff=Ca;function Ca(e,r){if(Pr(e,r))return null;var t=Q(e),a=Q(r),n="";if(t.prerelease.length||a.prerelease.length){n="pre";var i="prerelease"}for(var x in t)if((x==="major"||x==="minor"||x==="patch")&&t[x]!==a[x])return n+x;return i}w.compareIdentifiers=le;var tn=/^[0-9]+$/;function le(e,r){var t=tn.test(e),a=tn.test(r);return t&&a&&(e=+e,r=+r),e===r?0:t&&!a?-1:a&&!t?1:e<r?-1:1}w.rcompareIdentifiers=Na;function Na(e,r){return le(r,e)}w.major=Pa;function Pa(e,r){return new A(e,r).major}w.minor=Fa;function Fa(e,r){return new A(e,r).minor}w.patch=Ba;function Ba(e,r){return new A(e,r).patch}w.compare=M;function M(e,r,t){return new A(e,t).compare(new A(r,t))}w.compareLoose=La;function La(e,r){return M(e,r,!0)}w.rcompare=_a;function _a(e,r,t){return M(r,e,t)}w.sort=qa;function qa(e,r){return e.sort(function(t,a){return w.compare(t,a,r)})}w.rsort=Da;function Da(e,r){return e.sort(function(t,a){return w.rcompare(t,a,r)})}w.gt=Ee;function Ee(e,r,t){return M(e,r,t)>0}w.lt=Xe;function Xe(e,r,t){return M(e,r,t)<0}w.eq=Pr;function Pr(e,r,t){return M(e,r,t)===0}w.neq=yn;function yn(e,r,t){return M(e,r,t)!==0}w.gte=Fr;function Fr(e,r,t){return M(e,r,t)>=0}w.lte=Br;function Br(e,r,t){return M(e,r,t)<=0}w.cmp=Ke;function Ke(e,r,t,a){switch(r){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return Pr(e,t,a);case"!=":return yn(e,t,a);case">":return Ee(e,t,a);case">=":return Fr(e,t,a);case"<":return Xe(e,t,a);case"<=":return Br(e,t,a);default:throw new TypeError("Invalid operator: "+r)}}w.Comparator=D;function D(e,r){if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),e instanceof D){if(e.loose===!!r.loose)return e;e=e.value}if(!(this instanceof D))return new D(e,r);j("comparator",e,r),this.options=r,this.loose=!!r.loose,this.parse(e),this.semver===Ae?this.value="":this.value=this.operator+this.semver.version,j("comp",this)}var Ae={};D.prototype.parse=function(e){var r=this.options.loose?N[Cr]:N[Nr],t=e.match(r);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=t[1],this.operator==="="&&(this.operator=""),t[2]?this.semver=new A(t[2],this.options.loose):this.semver=Ae};D.prototype.toString=function(){return this.value};D.prototype.test=function(e){return j("Comparator.test",e,this.options.loose),this.semver===Ae?!0:(typeof e=="string"&&(e=new A(e,this.options)),Ke(e,this.operator,this.semver,this.options))};D.prototype.intersects=function(e,r){if(!(e instanceof D))throw new TypeError("a Comparator is required");(!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1});var t;if(this.operator==="")return t=new F(e.value,r),We(this.value,t,r);if(e.operator==="")return t=new F(this.value,r),We(e.semver,t,r);var a=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">"),n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<"),i=this.semver.version===e.semver.version,x=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<="),b=Ke(this.semver,"<",e.semver,r)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<"),y=Ke(this.semver,">",e.semver,r)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return a||n||i&&x||b||y};w.Range=F;function F(e,r){if((!r||typeof r!="object")&&(r={loose:!!r,includePrerelease:!1}),e instanceof F)return e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease?e:new F(e.raw,r);if(e instanceof D)return new F(e.value,r);if(!(this instanceof F))return new F(e,r);if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(t){return this.parseRange(t.trim())},this).filter(function(t){return t.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}F.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range};F.prototype.toString=function(){return this.range};F.prototype.parseRange=function(e){var r=this.options.loose;e=e.trim();var t=r?N[hn]:N[bn];e=e.replace(t,Ka),j("hyphen replace",e),e=e.replace(N[we],Ia),j("comparator trim",e,N[we]),e=e.replace(N[ke],Aa),e=e.replace(N[Je],Ta),e=e.split(/\s+/).join(" ");var a=r?N[Cr]:N[Nr],n=e.split(" ").map(function(i){return Va(i,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(n=n.filter(function(i){return!!i.match(a)})),n=n.map(function(i){return new D(i,this.options)},this),n};F.prototype.intersects=function(e,r){if(!(e instanceof F))throw new TypeError("a Range is required");return this.set.some(function(t){return t.every(function(a){return e.set.some(function(n){return n.every(function(i){return a.intersects(i,r)})})})})};w.toComparators=Ua;function Ua(e,r){return new F(e,r).set.map(function(t){return t.map(function(a){return a.value}).join(" ").trim().split(" ")})}function Va(e,r){return j("comp",e,r),e=Ga(e,r),j("caret",e),e=Ha(e,r),j("tildes",e),e=ka(e,r),j("xrange",e),e=Xa(e,r),j("stars",e),e}function q(e){return!e||e.toLowerCase()==="x"||e==="*"}function Ha(e,r){return e.trim().split(/\s+/).map(function(t){return $a(t,r)}).join(" ")}function $a(e,r){var t=r.loose?N[un]:N[xn];return e.replace(t,function(a,n,i,x,b){j("tilde",e,a,n,i,x,b);var y;return q(n)?y="":q(i)?y=">="+n+".0.0 <"+(+n+1)+".0.0":q(x)?y=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":b?(j("replaceTilde pr",b),y=">="+n+"."+i+"."+x+"-"+b+" <"+n+"."+(+i+1)+".0"):y=">="+n+"."+i+"."+x+" <"+n+"."+(+i+1)+".0",j("tilde return",y),y})}function Ga(e,r){return e.trim().split(/\s+/).map(function(t){return Ma(t,r)}).join(" ")}function Ma(e,r){j("caret",e,r);var t=r.loose?N[ln]:N[dn];return e.replace(t,function(a,n,i,x,b){j("caret",e,a,n,i,x,b);var y;return q(n)?y="":q(i)?y=">="+n+".0.0 <"+(+n+1)+".0.0":q(x)?n==="0"?y=">="+n+"."+i+".0 <"+n+"."+(+i+1)+".0":y=">="+n+"."+i+".0 <"+(+n+1)+".0.0":b?(j("replaceCaret pr",b),n==="0"?i==="0"?y=">="+n+"."+i+"."+x+"-"+b+" <"+n+"."+i+"."+(+x+1):y=">="+n+"."+i+"."+x+"-"+b+" <"+n+"."+(+i+1)+".0":y=">="+n+"."+i+"."+x+"-"+b+" <"+(+n+1)+".0.0"):(j("no pr"),n==="0"?i==="0"?y=">="+n+"."+i+"."+x+" <"+n+"."+i+"."+(+x+1):y=">="+n+"."+i+"."+x+" <"+n+"."+(+i+1)+".0":y=">="+n+"."+i+"."+x+" <"+(+n+1)+".0.0"),j("caret return",y),y})}function ka(e,r){return j("replaceXRanges",e,r),e.split(/\s+/).map(function(t){return Ja(t,r)}).join(" ")}function Ja(e,r){e=e.trim();var t=r.loose?N[sn]:N[on];return e.replace(t,function(a,n,i,x,b,y){j("xRange",e,a,n,i,x,b,y);var g=q(i),h=g||q(x),m=h||q(b),P=m;return n==="="&&P&&(n=""),g?n===">"||n==="<"?a="<0.0.0":a="*":n&&P?(h&&(x=0),b=0,n===">"?(n=">=",h?(i=+i+1,x=0,b=0):(x=+x+1,b=0)):n==="<="&&(n="<",h?i=+i+1:x=+x+1),a=n+i+"."+x+"."+b):h?a=">="+i+".0.0 <"+(+i+1)+".0.0":m&&(a=">="+i+"."+x+".0 <"+i+"."+(+x+1)+".0"),j("xRange return",a),a})}function Xa(e,r){return j("replaceStars",e,r),e.trim().replace(N[pn],"")}function Ka(e,r,t,a,n,i,x,b,y,g,h,m,P){return q(t)?r="":q(a)?r=">="+t+".0.0":q(n)?r=">="+t+"."+a+".0":r=">="+r,q(y)?b="":q(g)?b="<"+(+y+1)+".0.0":q(h)?b="<"+y+"."+(+g+1)+".0":m?b="<="+y+"."+g+"."+h+"-"+m:b="<="+b,(r+" "+b).trim()}F.prototype.test=function(e){if(!e)return!1;typeof e=="string"&&(e=new A(e,this.options));for(var r=0;r<this.set.length;r++)if(Wa(this.set[r],e,this.options))return!0;return!1};function Wa(e,r,t){for(var a=0;a<e.length;a++)if(!e[a].test(r))return!1;if(r.prerelease.length&&!t.includePrerelease){for(a=0;a<e.length;a++)if(j(e[a].semver),e[a].semver!==Ae&&e[a].semver.prerelease.length>0){var n=e[a].semver;if(n.major===r.major&&n.minor===r.minor&&n.patch===r.patch)return!0}return!1}return!0}w.satisfies=We;function We(e,r,t){try{r=new F(r,t)}catch{return!1}return r.test(e)}w.maxSatisfying=Ya;function Ya(e,r,t){var a=null,n=null;try{var i=new F(r,t)}catch{return null}return e.forEach(function(x){i.test(x)&&(!a||n.compare(x)===-1)&&(a=x,n=new A(a,t))}),a}w.minSatisfying=za;function za(e,r,t){var a=null,n=null;try{var i=new F(r,t)}catch{return null}return e.forEach(function(x){i.test(x)&&(!a||n.compare(x)===1)&&(a=x,n=new A(a,t))}),a}w.minVersion=Za;function Za(e,r){e=new F(e,r);var t=new A("0.0.0");if(e.test(t)||(t=new A("0.0.0-0"),e.test(t)))return t;t=null;for(var a=0;a<e.set.length;++a){var n=e.set[a];n.forEach(function(i){var x=new A(i.semver.version);switch(i.operator){case">":x.prerelease.length===0?x.patch++:x.prerelease.push(0),x.raw=x.format();case"":case">=":(!t||Ee(t,x))&&(t=x);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+i.operator)}})}return t&&e.test(t)?t:null}w.validRange=Qa;function Qa(e,r){try{return new F(e,r).range||"*"}catch{return null}}w.ltr=ei;function ei(e,r,t){return Lr(e,r,"<",t)}w.gtr=ri;function ri(e,r,t){return Lr(e,r,">",t)}w.outside=Lr;function Lr(e,r,t,a){e=new A(e,a),r=new F(r,a);var n,i,x,b,y;switch(t){case">":n=Ee,i=Br,x=Xe,b=">",y=">=";break;case"<":n=Xe,i=Fr,x=Ee,b="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(We(e,r,a))return!1;for(var g=0;g<r.set.length;++g){var h=r.set[g],m=null,P=null;if(h.forEach(function(I){I.semver===Ae&&(I=new D(">=0.0.0")),m=m||I,P=P||I,n(I.semver,m.semver,a)?m=I:x(I.semver,P.semver,a)&&(P=I)}),m.operator===b||m.operator===y||(!P.operator||P.operator===b)&&i(e,P.semver))return!1;if(P.operator===y&&x(e,P.semver))return!1}return!0}w.prerelease=ti;function ti(e,r){var t=Q(e,r);return t&&t.prerelease.length?t.prerelease:null}w.intersects=ni;function ni(e,r,t){return e=new F(e,t),r=new F(r,t),e.intersects(r)}w.coerce=ai;function ai(e){if(e instanceof A)return e;if(typeof e!="string")return null;var r=e.match(N[cn]);return r==null?null:Q(r[1]+"."+(r[2]||"0")+"."+(r[3]||"0"))}});var _r=R((Vo,gn)=>{var ii=vn();gn.exports=ii.satisfies(process.version,"^6.12.0 || >=8.0.0")});var Tn=R((Ho,An)=>{var B=ge(),fi=pr(),wn=yr(),oi=hr(),si=mr(),ci=_r(),xi=qe(),En=["RS256","RS384","RS512","ES256","ES384","ES512"],Sn=["RS256","RS384","RS512"],ui=["HS256","HS384","HS512"];ci&&(En.splice(3,0,"PS256","PS384","PS512"),Sn.splice(3,0,"PS256","PS384","PS512"));An.exports=function(e,r,t,a){typeof t=="function"&&!a&&(a=t,t={}),t||(t={}),t=Object.assign({},t);var n;if(a?n=a:n=function(h,m){if(h)throw h;return m},t.clockTimestamp&&typeof t.clockTimestamp!="number")return n(new B("clockTimestamp must be a number"));if(t.nonce!==void 0&&(typeof t.nonce!="string"||t.nonce.trim()===""))return n(new B("nonce must be a non-empty string"));var i=t.clockTimestamp||Math.floor(Date.now()/1e3);if(!e)return n(new B("jwt must be provided"));if(typeof e!="string")return n(new B("jwt must be a string"));var x=e.split(".");if(x.length!==3)return n(new B("jwt malformed"));var b;try{b=oi(e,{complete:!0})}catch(h){return n(h)}if(!b)return n(new B("invalid token"));var y=b.header,g;if(typeof r=="function"){if(!a)return n(new B("verify must be called asynchronous if secret or public key is provided as a callback"));g=r}else g=function(h,m){return m(null,r)};return g(y,function(h,m){if(h)return n(new B("error in secret or public key callback: "+h.message));var P=x[2].trim()!=="";if(!P&&m)return n(new B("jwt signature is required"));if(P&&!m)return n(new B("secret or public key must be provided"));if(!P&&!t.algorithms&&(t.algorithms=["none"]),t.algorithms||(t.algorithms=~m.toString().indexOf("BEGIN CERTIFICATE")||~m.toString().indexOf("BEGIN PUBLIC KEY")?En:~m.toString().indexOf("BEGIN RSA PUBLIC KEY")?Sn:ui),!~t.algorithms.indexOf(b.header.alg))return n(new B("invalid algorithm"));var I;try{I=xi.verify(e,b.header.alg,m)}catch(U){return n(U)}if(!I)return n(new B("invalid signature"));var O=b.payload;if(typeof O.nbf<"u"&&!t.ignoreNotBefore){if(typeof O.nbf!="number")return n(new B("invalid nbf value"));if(O.nbf>i+(t.clockTolerance||0))return n(new fi("jwt not active",new Date(O.nbf*1e3)))}if(typeof O.exp<"u"&&!t.ignoreExpiration){if(typeof O.exp!="number")return n(new B("invalid exp value"));if(i>=O.exp+(t.clockTolerance||0))return n(new wn("jwt expired",new Date(O.exp*1e3)))}if(t.audience){var W=Array.isArray(t.audience)?t.audience:[t.audience],er=Array.isArray(O.aud)?O.aud:[O.aud],Te=er.some(function(U){return W.some(function(re){return re instanceof RegExp?re.test(U):re===U})});if(!Te)return n(new B("jwt audience invalid. expected: "+W.join(" or ")))}if(t.issuer){var Ie=typeof t.issuer=="string"&&O.iss!==t.issuer||Array.isArray(t.issuer)&&t.issuer.indexOf(O.iss)===-1;if(Ie)return n(new B("jwt issuer invalid. expected: "+t.issuer))}if(t.subject&&O.sub!==t.subject)return n(new B("jwt subject invalid. expected: "+t.subject));if(t.jwtid&&O.jti!==t.jwtid)return n(new B("jwt jwtid invalid. expected: "+t.jwtid));if(t.nonce&&O.nonce!==t.nonce)return n(new B("jwt nonce invalid. expected: "+t.nonce));if(t.maxAge){if(typeof O.iat!="number")return n(new B("iat required when maxAge is specified"));var ee=si(t.maxAge,O.iat);if(typeof ee>"u")return n(new B('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if(i>=ee+(t.clockTolerance||0))return n(new wn("maxAge exceeded",new Date(ee*1e3)))}if(t.complete===!0){var Y=b.signature;return n(null,{header:y,payload:O,signature:Y})}return n(null,O)})}});var Nn=R(($o,Cn)=>{var In=1/0,On=9007199254740991,di=17976931348623157e292,Rn=0/0,li="[object Arguments]",bi="[object Function]",hi="[object GeneratorFunction]",pi="[object String]",yi="[object Symbol]",mi=/^\s+|\s+$/g,vi=/^[-+]0x[0-9a-f]+$/i,gi=/^0b[01]+$/i,wi=/^0o[0-7]+$/i,Ei=/^(?:0|[1-9]\d*)$/,Si=parseInt;function Ai(e,r){for(var t=-1,a=e?e.length:0,n=Array(a);++t<a;)n[t]=r(e[t],t,e);return n}function Ti(e,r,t,a){for(var n=e.length,i=t+(a?1:-1);a?i--:++i<n;)if(r(e[i],i,e))return i;return-1}function Ii(e,r,t){if(r!==r)return Ti(e,Ri,t);for(var a=t-1,n=e.length;++a<n;)if(e[a]===r)return a;return-1}function Ri(e){return e!==e}function Oi(e,r){for(var t=-1,a=Array(e);++t<e;)a[t]=r(t);return a}function ji(e,r){return Ai(r,function(t){return e[t]})}function Ci(e,r){return function(t){return e(r(t))}}var Ze=Object.prototype,Dr=Ze.hasOwnProperty,Qe=Ze.toString,Ni=Ze.propertyIsEnumerable,Pi=Ci(Object.keys,Object),Fi=Math.max;function Bi(e,r){var t=jn(e)||Ui(e)?Oi(e.length,String):[],a=t.length,n=!!a;for(var i in e)(r||Dr.call(e,i))&&!(n&&(i=="length"||_i(i,a)))&&t.push(i);return t}function Li(e){if(!qi(e))return Pi(e);var r=[];for(var t in Object(e))Dr.call(e,t)&&t!="constructor"&&r.push(t);return r}function _i(e,r){return r=r??On,!!r&&(typeof e=="number"||Ei.test(e))&&e>-1&&e%1==0&&e<r}function qi(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Ze;return e===t}function Di(e,r,t,a){e=Ur(e)?e:Wi(e),t=t&&!a?Ji(t):0;var n=e.length;return t<0&&(t=Fi(n+t,0)),Gi(e)?t<=n&&e.indexOf(r,t)>-1:!!n&&Ii(e,r,t)>-1}function Ui(e){return Vi(e)&&Dr.call(e,"callee")&&(!Ni.call(e,"callee")||Qe.call(e)==li)}var jn=Array.isArray;function Ur(e){return e!=null&&$i(e.length)&&!Hi(e)}function Vi(e){return Vr(e)&&Ur(e)}function Hi(e){var r=qr(e)?Qe.call(e):"";return r==bi||r==hi}function $i(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=On}function qr(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Vr(e){return!!e&&typeof e=="object"}function Gi(e){return typeof e=="string"||!jn(e)&&Vr(e)&&Qe.call(e)==pi}function Mi(e){return typeof e=="symbol"||Vr(e)&&Qe.call(e)==yi}function ki(e){if(!e)return e===0?e:0;if(e=Xi(e),e===In||e===-In){var r=e<0?-1:1;return r*di}return e===e?e:0}function Ji(e){var r=ki(e),t=r%1;return r===r?t?r-t:r:0}function Xi(e){if(typeof e=="number")return e;if(Mi(e))return Rn;if(qr(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=qr(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(mi,"");var t=gi.test(e);return t||wi.test(e)?Si(e.slice(2),t?2:8):vi.test(e)?Rn:+e}function Ki(e){return Ur(e)?Bi(e):Li(e)}function Wi(e){return e?ji(e,Ki(e)):[]}Cn.exports=Di});var Fn=R((Go,Pn)=>{var Yi="[object Boolean]",zi=Object.prototype,Zi=zi.toString;function Qi(e){return e===!0||e===!1||ef(e)&&Zi.call(e)==Yi}function ef(e){return!!e&&typeof e=="object"}Pn.exports=Qi});var Dn=R((Mo,qn)=>{var Bn=1/0,rf=17976931348623157e292,Ln=0/0,tf="[object Symbol]",nf=/^\s+|\s+$/g,af=/^[-+]0x[0-9a-f]+$/i,ff=/^0b[01]+$/i,of=/^0o[0-7]+$/i,sf=parseInt,cf=Object.prototype,xf=cf.toString;function uf(e){return typeof e=="number"&&e==hf(e)}function _n(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function df(e){return!!e&&typeof e=="object"}function lf(e){return typeof e=="symbol"||df(e)&&xf.call(e)==tf}function bf(e){if(!e)return e===0?e:0;if(e=pf(e),e===Bn||e===-Bn){var r=e<0?-1:1;return r*rf}return e===e?e:0}function hf(e){var r=bf(e),t=r%1;return r===r?t?r-t:r:0}function pf(e){if(typeof e=="number")return e;if(lf(e))return Ln;if(_n(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=_n(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(nf,"");var t=ff.test(e);return t||of.test(e)?sf(e.slice(2),t?2:8):af.test(e)?Ln:+e}qn.exports=uf});var Vn=R((ko,Un)=>{var yf="[object Number]",mf=Object.prototype,vf=mf.toString;function gf(e){return!!e&&typeof e=="object"}function wf(e){return typeof e=="number"||gf(e)&&vf.call(e)==yf}Un.exports=wf});var Mn=R((Jo,Gn)=>{var Ef="[object Object]";function Sf(e){var r=!1;if(e!=null&&typeof e.toString!="function")try{r=!!(e+"")}catch{}return r}function Af(e,r){return function(t){return e(r(t))}}var Tf=Function.prototype,Hn=Object.prototype,$n=Tf.toString,If=Hn.hasOwnProperty,Rf=$n.call(Object),Of=Hn.toString,jf=Af(Object.getPrototypeOf,Object);function Cf(e){return!!e&&typeof e=="object"}function Nf(e){if(!Cf(e)||Of.call(e)!=Ef||Sf(e))return!1;var r=jf(e);if(r===null)return!0;var t=If.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&$n.call(t)==Rf}Gn.exports=Nf});var Jn=R((Xo,kn)=>{var Pf="[object String]",Ff=Object.prototype,Bf=Ff.toString,Lf=Array.isArray;function _f(e){return!!e&&typeof e=="object"}function qf(e){return typeof e=="string"||!Lf(e)&&_f(e)&&Bf.call(e)==Pf}kn.exports=qf});var zn=R((Ko,Yn)=>{var Df="Expected a function",Xn=1/0,Uf=17976931348623157e292,Kn=0/0,Vf="[object Symbol]",Hf=/^\s+|\s+$/g,$f=/^[-+]0x[0-9a-f]+$/i,Gf=/^0b[01]+$/i,Mf=/^0o[0-7]+$/i,kf=parseInt,Jf=Object.prototype,Xf=Jf.toString;function Kf(e,r){var t;if(typeof r!="function")throw new TypeError(Df);return e=Qf(e),function(){return--e>0&&(t=r.apply(this,arguments)),e<=1&&(r=void 0),t}}function Wf(e){return Kf(2,e)}function Wn(e){var r=typeof e;return!!e&&(r=="object"||r=="function")}function Yf(e){return!!e&&typeof e=="object"}function zf(e){return typeof e=="symbol"||Yf(e)&&Xf.call(e)==Vf}function Zf(e){if(!e)return e===0?e:0;if(e=eo(e),e===Xn||e===-Xn){var r=e<0?-1:1;return r*Uf}return e===e?e:0}function Qf(e){var r=Zf(e),t=r%1;return r===r?t?r-t:r:0}function eo(e){if(typeof e=="number")return e;if(zf(e))return Kn;if(Wn(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Wn(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=e.replace(Hf,"");var t=Gf.test(e);return t||Mf.test(e)?kf(e.slice(2),t?2:8):$f.test(e)?Kn:+e}Yn.exports=Wf});var o0=R((Wo,f0)=>{var Zn=mr(),ro=_r(),Qn=qe(),to=Nn(),e0=Fn(),r0=Dn(),Hr=Vn(),n0=Mn(),K=Jn(),no=zn(),a0=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];ro&&a0.splice(3,0,"PS256","PS384","PS512");var ao={expiresIn:{isValid:function(e){return r0(e)||K(e)&&e},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(e){return r0(e)||K(e)&&e},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(e){return K(e)||Array.isArray(e)},message:'"audience" must be a string or array'},algorithm:{isValid:to.bind(null,a0),message:'"algorithm" must be a valid string enum value'},header:{isValid:n0,message:'"header" must be an object'},encoding:{isValid:K,message:'"encoding" must be a string'},issuer:{isValid:K,message:'"issuer" must be a string'},subject:{isValid:K,message:'"subject" must be a string'},jwtid:{isValid:K,message:'"jwtid" must be a string'},noTimestamp:{isValid:e0,message:'"noTimestamp" must be a boolean'},keyid:{isValid:K,message:'"keyid" must be a string'},mutatePayload:{isValid:e0,message:'"mutatePayload" must be a boolean'}},io={iat:{isValid:Hr,message:'"iat" should be a number of seconds'},exp:{isValid:Hr,message:'"exp" should be a number of seconds'},nbf:{isValid:Hr,message:'"nbf" should be a number of seconds'}};function i0(e,r,t,a){if(!n0(t))throw new Error('Expected "'+a+'" to be a plain object.');Object.keys(t).forEach(function(n){var i=e[n];if(!i){if(!r)throw new Error('"'+n+'" is not allowed in "'+a+'"');return}if(!i.isValid(t[n]))throw new Error(i.message)})}function fo(e){return i0(ao,!1,e,"options")}function oo(e){return i0(io,!0,e,"payload")}var t0={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},so=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];f0.exports=function(e,r,t,a){typeof t=="function"?(a=t,t={}):t=t||{};var n=typeof e=="object"&&!Buffer.isBuffer(e),i=Object.assign({alg:t.algorithm||"HS256",typ:n?"JWT":void 0,kid:t.keyid},t.header);function x(h){if(a)return a(h);throw h}if(!r&&t.algorithm!=="none")return x(new Error("secretOrPrivateKey must have a value"));if(typeof e>"u")return x(new Error("payload is required"));if(n){try{oo(e)}catch(h){return x(h)}t.mutatePayload||(e=Object.assign({},e))}else{var b=so.filter(function(h){return typeof t[h]<"u"});if(b.length>0)return x(new Error("invalid "+b.join(",")+" option for "+typeof e+" payload"))}if(typeof e.exp<"u"&&typeof t.expiresIn<"u")return x(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof e.nbf<"u"&&typeof t.notBefore<"u")return x(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{fo(t)}catch(h){return x(h)}var y=e.iat||Math.floor(Date.now()/1e3);if(t.noTimestamp?delete e.iat:n&&(e.iat=y),typeof t.notBefore<"u"){try{e.nbf=Zn(t.notBefore,y)}catch(h){return x(h)}if(typeof e.nbf>"u")return x(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof t.expiresIn<"u"&&typeof e=="object"){try{e.exp=Zn(t.expiresIn,y)}catch(h){return x(h)}if(typeof e.exp>"u")return x(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys(t0).forEach(function(h){var m=t0[h];if(typeof t[h]<"u"){if(typeof e[m]<"u")return x(new Error('Bad "options.'+h+'" option. The payload already has an "'+m+'" property.'));e[m]=t[h]}});var g=t.encoding||"utf8";if(typeof a=="function")a=a&&no(a),Qn.createSign({header:i,privateKey:r,payload:e,encoding:g}).once("error",a).once("done",function(h){a(null,h)});else return Qn.sign({header:i,payload:e,secret:r,encoding:g})}});var c0=R((Yo,s0)=>{s0.exports={decode:hr(),verify:Tn(),sign:o0(),JsonWebTokenError:ge(),NotBeforeError:pr(),TokenExpiredError:yr()}});var lo={};m0(lo,{handler:()=>uo});module.exports=v0(lo);var Jr=require("events"),kr=()=>{},g0={timeoutEarlyInMillis:5,timeoutEarlyResponse:()=>{throw new Error("Timeout")}},w0=(e=kr,r={})=>{var x;typeof e!="function"&&(r=e,e=kr),r={...g0,...r},r.timeoutEarly=r.timeoutEarlyInMillis>0,(x=r.beforePrefetch)==null||x.call(r);let t=[],a=[],n=[],i=(b={},y={})=>{var h;(h=r.requestStart)==null||h.call(r);let g={event:b,context:y,response:void 0,error:void 0,internal:r.internal??{}};return E0(g,[...t],e,[...a],[...n],r)};return i.use=b=>{Array.isArray(b)||(b=[b]);for(let y of b){let{before:g,after:h,onError:m}=y;if(!g&&!h&&!m)throw new Error('Middleware must be an object containing at least one key among "before", "after", "onError"');g&&i.before(g),h&&i.after(h),m&&i.onError(m)}return i},i.before=b=>(t.push(b),i),i.after=b=>(a.unshift(b),i),i.onError=b=>(n.unshift(b),i),i.handler=b=>(e=b,i),i},E0=async(e,r,t,a,n,i)=>{var b,y,g;let x=i.timeoutEarly&&e.context.getRemainingTimeInMillis;try{if(await nr(e,r,i),typeof e.response>"u"){(b=i.beforeHandler)==null||b.call(i);let h=new AbortController,m;x&&(m=new AbortController),e.response=await Promise.race([t(e.event,e.context,{signal:h.signal}),x?T0(e.context.getRemainingTimeInMillis()-i.timeoutEarlyInMillis,{signal:m.signal}).then(()=>(h.abort(),i.timeoutEarlyResponse())):Promise.race([])]),x&&m.abort(),(y=i.afterHandler)==null||y.call(i),await nr(e,a,i)}}catch(h){e.response=void 0,e.error=h;try{await nr(e,n,i)}catch(m){throw m.originalError=e.error,e.error=m,e.error}if(typeof e.response>"u")throw e.error}finally{await((g=i.requestEnd)==null?void 0:g.call(i,e))}return e.response},nr=async(e,r,t)=>{var a,n;for(let i of r){(a=t.beforeMiddleware)==null||a.call(t,i.name);let x=await i(e);if((n=t.afterMiddleware)==null||n.call(t,i.name),typeof x<"u"){e.response=x;return}}},S0=()=>{if(process.version<"v15.0.0"){class e{toString(){return"[object AbortSignal]"}get[Symbol.toStringTag](){return"AbortSignal"}removeEventListener(t,a){this.eventEmitter.removeListener(t,a)}addEventListener(t,a){this.eventEmitter.on(t,a)}dispatchEvent(t){let a={type:t,target:this},n=`on${t}`;typeof this[n]=="function"&&this[n](a),this.eventEmitter.emit(t,a)}constructor(){this.eventEmitter=new Jr.EventEmitter,this.onabort=null,this.aborted=!1}}return class{abort(){this.signal.aborted||(this.signal.aborted=!0,this.signal.dispatchEvent("abort"))}toString(){return"[object AbortController]"}get[Symbol.toStringTag](){return"AbortController"}constructor(){this.signal=new e}}}else return AbortController};global.AbortController=S0();var A0=()=>(e,{signal:r})=>r.aborted?Promise.reject(new Error("Aborted","AbortError")):new Promise((t,a)=>{let n=()=>{clearTimeout(i),a(new Error("Aborted","AbortError"))},i=setTimeout(()=>{t(),r.removeEventListener("abort",n)},e);r.addEventListener("abort",n)}),T0=A0(),Xr=w0;var Yr=require("https"),Kr,yo={httpOptions:{agent:new Yr.Agent({keepAlive:!0,secureProtocol:"TLSv1_2_method"})}};var zr=e=>{let{response:r}=e;return typeof r>"u"?r={}:typeof(r==null?void 0:r.statusCode)>"u"&&typeof(r==null?void 0:r.body)>"u"&&typeof(r==null?void 0:r.headers)>"u"&&(r={body:r}),(Kr=r).headers??(Kr.headers={}),e.response=r,r},I0=/[^a-zA-Z]/g,ar=class extends Error{constructor(r,t,a={}){t&&typeof t!="string"&&(a=t,t=void 0),t??(t=Wr[r]),super(t),this.cause=a.cause;let n=Wr[r].replace(I0,"");this.name=n.substr(-5)!=="Error"?n+"Error":n,this.status=this.statusCode=r,this.expose=a.expose??r<500}},Zr=(e,r,t={})=>new ar(e,r,t),Wr={100:"Continue",101:"Switching Protocols",102:"Processing",103:"Early Hints",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"(Unused)",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"};var R0=/^application\/(.+\+)?json(;.*)?$/,O0={reviver:void 0},j0=(e={})=>{let{reviver:r}={...O0,...e};return{before:async a=>{let{headers:n,body:i}=a.event,x=n["Content-Type"]??n["content-type"];if(!!R0.test(x))try{let b=a.event.isBase64Encoded?Buffer.from(i,"base64").toString():i;a.event.rawBody=i,a.event.body=JSON.parse(b,r)}catch(b){let y=Zr(422,"Invalid or malformed JSON was provided");throw y.cause=b,y}}}},Qr=j0;var C0=(e,r={})=>r.origins.length>0?e&&r.origins.includes(e)?e:r.origins[0]:e&&r.credentials&&r.origin==="*"?e:r.origin,N0={getOrigin:C0,credentials:void 0,headers:void 0,methods:void 0,origin:"*",origins:[],exposeHeaders:void 0,maxAge:void 0,requestHeaders:void 0,requestMethods:void 0,cacheControl:void 0,vary:void 0},P0=(e={})=>{let r={...N0,...e},t=async n=>{var g;zr(n);let{headers:i}=n.response,x=Object.keys(i);if(x.includes("Access-Control-Allow-Credentials")&&(r.credentials=i["Access-Control-Allow-Credentials"]==="true"),r.credentials&&(i["Access-Control-Allow-Credentials"]=String(r.credentials)),r.headers&&!x.includes("Access-Control-Allow-Headers")&&(i["Access-Control-Allow-Headers"]=r.headers),r.methods&&!x.includes("Access-Control-Allow-Methods")&&(i["Access-Control-Allow-Methods"]=r.methods),!x.includes("Access-Control-Allow-Origin")){let h=n.event.headers??{},m=h.Origin??h.origin;i["Access-Control-Allow-Origin"]=r.getOrigin(m,r)}let b=r.vary;i["Access-Control-Allow-Origin"]!=="*"&&!b&&(b="Origin"),b&&!x.includes("Vary")&&(i.Vary=b),r.exposeHeaders&&!x.includes("Access-Control-Expose-Headers")&&(i["Access-Control-Expose-Headers"]=r.exposeHeaders),r.maxAge&&!x.includes("Access-Control-Max-Age")&&(i["Access-Control-Max-Age"]=String(r.maxAge)),r.requestHeaders&&!x.includes("Access-Control-Request-Headers")&&(i["Access-Control-Request-Headers"]=r.requestHeaders),r.requestMethods&&!x.includes("Access-Control-Request-Methods")&&(i["Access-Control-Request-Methods"]=r.requestMethods);let y=(g=ir[n.event.version??"1.0"])==null?void 0:g.call(ir,n.event);if(!y)throw new Error("[http-cors] Unknown http event format");y==="OPTIONS"&&r.cacheControl&&!x.includes("Cache-Control")&&(i["Cache-Control"]=r.cacheControl),n.response.headers=i};return{after:t,onError:async n=>{if(n.response!==void 0)return t(n)}}},ir={"1.0":e=>e.httpMethod,"2.0":e=>e.requestContext.http.method},et=P0;var u0=tr(require("aws-sdk"));var rt=e=>{let r=/^([0-9]{3,4}-[0-9]{4})$/,t=/^\+[0-9]{3}$/,a=/^\d{4}\-(0[1-9]|1[0-2])\-(0[1-9]|[12][0-9]|3[01])$/,n=e.telephone;if(!(e!=null&&e.email))return{ok:!1,message:"The email is required"};if(!(e!=null&&e.password))return{ok:!1,message:"The user's password is required"};if(!(e!=null&&e.address))return{ok:!1,message:"The address is required"};if(!(e!=null&&e.username))return{ok:!1,message:"The username is required"};if(!(e!=null&&e.firstname))return{ok:!1,message:"The firstname is required"};if(!(e!=null&&e.lastname))return{ok:!1,message:"The lastname is required"};if(!n||typeof n!="string")return{ok:!1,message:"The telephone is required"};let i=n.split(" ");return i.length===2&&t.test(i[0])&&r.test(i[1])||r.test(n)?!(e!=null&&e.birthday)||typeof e.birthday!="string"||!a.test(e.birthday)?{ok:!1,message:"The birhday is required"}:e!=null&&e.userRole?{ok:!0,user:e}:{ok:!1,message:"The role is required"}:(console.log(i[0]),console.log("expression 1: ",i.length===2,t.test(i[0]),r.test(i[1])),console.log("expression 2: ",r.test(n)),{ok:!1,message:"The telephone is not validate"})};var $r=tr(it()),co=tr(c0());var x0=e=>{let r=$r.default.genSaltSync();return $r.default.hashSync(e,r)};var xo=async e=>{var x,b,y,g,h,m,P,I,O,W;let r=new u0.default.DynamoDB.DocumentClient,{id:t}=e.pathParameters,a=e.body;if(!t)return{statusCode:422,body:JSON.stringify({ok:!1,message:"The user's id is required"})};let n=rt(a);if(!n.ok)return{statusCode:412,body:JSON.stringify({ok:!1,message:n.message})};let i=await r.get({TableName:"UsersTable",Key:{id:t}}).promise();return i.Item?(delete e.body.id,delete e.body.username,(x=n.user)!=null&&x.password&&(n.user.password=x0((b=n.user)==null?void 0:b.password)),await r.update({TableName:"UsersTable",Key:{id:t},UpdateExpression:"set email = :email, firstname = :firstname, lastname = :lastname, telephone = :telephone, address = :address, birthday = :birthday, userRole = :userRole, password = :password",ExpressionAttributeValues:{":email":(y=n.user)==null?void 0:y.email,":firstname":(g=n.user)==null?void 0:g.firstname,":lastname":(h=n.user)==null?void 0:h.lastname,":telephone":(m=n.user)==null?void 0:m.telephone,":address":(P=n.user)==null?void 0:P.address,":birthday":(I=n.user)==null?void 0:I.birthday,":userRole":(O=n.user)==null?void 0:O.userRole,":password":(W=n.user)==null?void 0:W.password}}).promise(),delete i.Item.password,delete e.body.password,{statusCode:200,body:JSON.stringify({ok:!0,data:Object.assign({},i.Item,e.body)})}):{statusCode:412,body:JSON.stringify({ok:!1,message:"The user is not registered"})}},uo=Xr(xo).use(Qr()).use(et());0&&(module.exports={handler});
/**
 * @license bcrypt.js (c) 2013 Daniel Wirtz <dcode@dcode.io>
 * Released under the Apache License, Version 2.0
 * see: https://github.com/dcodeIO/bcrypt.js for details
 */
